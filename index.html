<!doctype html>
<html>
  <head>
    <title>Chuckle</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ff6600">

    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.png">

    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
    <link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="bower_components/paper-item/paper-item.html">
    <link rel="import" href="/bower_components/app-router/app-router.html">
    <link rel="import" href="bower_components/platinum-sw/platinum-sw-register.html">
    <link rel="import" href="bower_components/platinum-sw/platinum-sw-cache.html">

    <style is="custom-style">

    body {
      font-family: Helvetica, Arial, sans-serif;
    }

    paper-toolbar {
      font-size: 2em;
      --paper-toolbar-background: #ff6600;
    }

    paper-header-panel div {
      font-size: 1em;
      padding: 0.25em;
    }
    </style>
  </head>
  <body>

    <platinum-sw-register
        auto-register
        skip-waiting
        clients-claim
        reload-on-install
        href="sw-import.js">
      <platinum-sw-cache></platinum-sw-cache>
    </platinum-sw-register>

    <paper-drawer-panel>
      <paper-header-panel drawer>
        <paper-toolbar>
          <div>Chuckle</div>
        </paper-toolbar>
        <paper-menu>
          <a href="/"><paper-item>All jokes</paper-item></a>
          <a href="#/nerdy"><paper-item>Nerdy jokes</paper-item></a>
        </paper-menu>
      </paper-header-panel>
      <paper-header-panel main>
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
        </paper-toolbar>
        <div>
          <app-router mode="hash">
            <app-route path="/:category" import="/pages/joke-list.html"></app-route>
            <app-route path="*" import="/pages/joke-list.html"></app-route>
          </app-router>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>

    <script defer>
    if(window.location.protocol === 'http:') window.location.href = window.location.href.replace('http:', 'https:')
    </script>
  </body>
</html>
